/*!
 * cpIFramePrivacy Version 0.1.0
 * https://github.com/codeprofis/cpIFramePrivacy
 *
 * Licensed under the MIT-License, Â© 2019 CodeProfis Inh. Tim Afholderbach - https://wwww.codeprofis.eu/
 */
!function(e,t){var i;void 0===e.cpIFramePrivacy&&(e.cpIFramePrivacy=i={config:{cookiesEnabled:!1},setCookieEnabled:function(e){i.config.cookiesEnabled=e},setCookie:function(e){var i=new Date;i.setTime(i.getTime()+864e5),t.cookie="cpIFramePrivacy_"+e+"=1;expires="+i.toGMTString()+";path=/"},checkCookie:function(e){return!!t.cookie.match("(^|;) ?cpIFramePrivacy_"+e+"=([^;]*)(;|$)")},initIFrame:function(e){var i=t.getElementById(e);if(null===i)throw"No container element with #"+e+" found.";if(null===i.attributes["data-confirmation-message"])throw"data-confirmation-message not set on ContainerElement #"+e;if(null===i.attributes["data-url"])throw"data-url not set on ContainerElement #"+e;var n=i.attributes["data-confirmation-message"].value,o=t.getElementById(n);if(null===o)throw"Element containing message is not set";i.appendChild(o);var a=!1;if(this.config.cookiesEnabled&&this.checkCookie(e)&&(a=!0,this.showIFrame(i,o)),!a){var r=t.querySelector("#"+n+" .cpIframePrivacy__confirm-button");if(null===r)throw"Container Element does not contain .cpIframePrivacy__confirm-button";r.addEventListener("click",function(t){t.preventDefault(),this.config.cookiesEnabled&&this.setCookie(e),this.showIFrame(i,o)}.bind(this))}},showIFrame:function(e,i){var n=t.createElement("iframe");n.setAttribute("src",e.attributes["data-url"].value),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.style.width="100%",n.style.height="100%",n.setAttribute("frameborder",0),e.appendChild(n),i.remove()}})}(window,document);