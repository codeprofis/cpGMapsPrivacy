/*!
 * cpIFramePrivacy Version 0.1.0
 * https://github.com/codeprofis/cpIFramePrivacy
 *
 * Licensed under the MIT-License, Â© 2019 CodeProfis Inh. Tim Afholderbach - https://wwww.codeprofis.eu/
 */
(function(window,document){function cpIFramePrivacy(){var _cpIFramePrivacy={};_cpIFramePrivacy.config={cookiesEnabled:!1};_cpIFramePrivacy.setCookieEnabled=function(value){_cpIFramePrivacy.config.cookiesEnabled=value};_cpIFramePrivacy.setCookie=function(name){var d=new Date();d.setTime(d.getTime()+24*60*60*1000*1);document.cookie="cpIFramePrivacy_"+name+"=1;expires="+d.toGMTString()+";path=/"};_cpIFramePrivacy.checkCookie=function(name){var v=document.cookie.match("(^|;) ?"+"cpIFramePrivacy_"+name+"=([^;]*)(;|$)");return v?!0:!1};_cpIFramePrivacy.initIFrame=function(containerId){var containerElement=document.getElementById(containerId);if(containerElement===null){throw "No container element with #"+containerId+" found."}
if(containerElement.attributes["data-confirmation-message"]===null){throw "data-confirmation-message not set on ContainerElement #"+containerId}
if(containerElement.attributes["data-url"]===null){throw "data-url not set on ContainerElement #"+containerId}
var messageId=containerElement.attributes["data-confirmation-message"].value;var messageElement=document.getElementById(messageId);if(messageElement===null){throw "Element containing message is not set"}
containerElement.appendChild(messageElement);var cookieFound=!1;if(this.config.cookiesEnabled){if(this.checkCookie(containerId)){cookieFound=!0;this.showIFrame(containerElement,messageElement)}}
if(!cookieFound){var confirmAnchor=document.querySelector("#"+messageId+" .cpIframePrivacy__confirm-button");if(confirmAnchor===null){throw "Container Element does not contain .cpIframePrivacy__confirm-button"}
confirmAnchor.addEventListener("click",function(event){event.preventDefault();if(this.config.cookiesEnabled){this.setCookie(containerId)}
this.showIFrame(containerElement,messageElement)}.bind(this))}};_cpIFramePrivacy.showIFrame=function(containerElement,messageElement){var iframe=document.createElement("iframe");iframe.setAttribute("src",containerElement.attributes["data-url"].value);iframe.setAttribute("width","100%");iframe.setAttribute("height","100%");iframe.style.width="100%";iframe.style.height="100%";iframe.setAttribute("frameborder",0);containerElement.appendChild(iframe);messageElement.remove()};return _cpIFramePrivacy}
if(window.cpIFramePrivacy===undefined){window.cpIFramePrivacy=cpIFramePrivacy()}})(window,document)